# author: HolgerAusB   version 2023-01-14
#
# no native feed, try:
# https://createfeed.fivefilters.org/extract.php?url=https%3A%2F%2Fwww.knoten-stadion.de%2Fmeldungen.html&item=div.layout_latest&item_title=h3&item_desc=div.teaser&item_date=time&feed_title=Knoten+Frankfurt-Stadion&max=5&order=document&guid=0
# (meldungen.html contains a link to a sub-index-page baustellen-journal.html
#  FeedCreator makes two feeds from these and merge them together)

body: //div[@class='mod_newsreader block']

# strip title and date from body
strip: //h1[@itemprop='name']
strip: //p[@class='info']

#replace embedded video with link to video:
prune: no
replace_string(<figure class="video_container">): <div>
replace_string(<video): <div
replace_string(<source type="video/mp4" src): <a href
replace_string(</video>): Link zum Video</a></div>
replace_string(</figure>): </div>

# cleanup
strip: //p[@class='back']/a

test_url: https://www.knoten-stadion.de/aktuelles-reader/spatenstich-fuer-zusaetzliche-gleise-und-neue-mainbruecke-im-knoten-frankfurt-stadion.html
